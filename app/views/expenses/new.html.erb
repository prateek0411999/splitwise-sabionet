<h1>New Expense</h1>

<%= form_with(model: @expense, url: expenses_path, id: "expense-form") do |form| %>
    <div class="form-group">
        <%= form.label :type, "Expense Type" %>
        <%= form.select :expense_type, Expense.expense_types.keys.map{|exp_type| [exp_type.humanize, exp_type]}, {selected: "non_itemized"}, class: 'expense-type-select form-control', required: true %>
    </div>
    <div class="form-group">
        <div id="non_itemized" >
            <%= render "non_itemized_form", form: form, users: @users %>
        </div>
        <div id="itemized" style="display: none">
            <%= render "itemized_form", form: form, users: @users %>
        </div>
    </div>

  <%= form.submit "Create Expense", {id: "create-expense-button"} %>
<% end %>
